---
description: SmartAbpæ¶æ„åˆè§„æ€§è§„åˆ™ - å¼ºåˆ¶æ¶æ„ä¸€è‡´æ€§
globs: ["src/**/*", "doc/**/*"]
alwaysApply: true
priority: 900
---

# ğŸ—ï¸ SmartAbpæ¶æ„åˆè§„æ€§è§„åˆ™

## ğŸ“‹ å¼ºåˆ¶æ¶æ„åŸåˆ™

### 1. å‰ç«¯æ¶æ„çº¦æŸ
**Vue.js + TypeScript é¡¹ç›®ç»“æ„ï¼š**

```typescript
// âœ… å¼ºåˆ¶ä½¿ç”¨ï¼šæ¨¡å—åŒ–å¯¼å…¥
import { ref, computed } from 'vue'
import { useUserStore } from '@/stores/modules/user'
import type { UserInfo } from '@/types/user'

// âŒ ä¸¥ç¦ï¼šå…¨å±€å¯¼å…¥
import * as Vue from 'vue'
```

### 2. åç«¯æ¶æ„çº¦æŸ
**ABP vNext åˆ†å±‚æ¶æ„ï¼š**

```csharp
// âœ… å¼ºåˆ¶éµå¾ªï¼šDDDåˆ†å±‚
namespace SmartAbp.Application.Users
{
    public class UserAppService : SmartAbpAppService, IUserAppService
    {
        // æ­£ç¡®çš„åº”ç”¨æœåŠ¡å®ç°
    }
}

// âŒ ä¸¥ç¦ï¼šè·¨å±‚ç›´æ¥è°ƒç”¨
// åº”ç”¨å±‚ç›´æ¥è°ƒç”¨åŸºç¡€è®¾æ–½å±‚
```

## ğŸ¯ ç›®å½•ç»“æ„å¼ºåˆ¶æ€§æ£€æŸ¥

### å‰ç«¯ç›®å½•åˆè§„æ€§
```bash
# å¿…é¡»å­˜åœ¨çš„ç›®å½•ç»“æ„
src/SmartAbp.Vue/src/
â”œâ”€â”€ views/                     # âœ… å¿…é¡»æŒ‰æ¨¡å—åˆ†ç»„
â”‚   â”œâ”€â”€ user/                 # âœ… ç”¨æˆ·æ¨¡å—
â”‚   â”œâ”€â”€ project/              # âœ… é¡¹ç›®æ¨¡å—
â”‚   â”œâ”€â”€ log/                  # âœ… æ—¥å¿—æ¨¡å—
â”‚   â”œâ”€â”€ system/               # âœ… ç³»ç»Ÿæ¨¡å—
â”‚   â””â”€â”€ common/               # âœ… é€šç”¨é¡µé¢
â”œâ”€â”€ components/               # âœ… å¿…é¡»æŒ‰åŠŸèƒ½åˆ†ç»„
â”œâ”€â”€ stores/modules/           # âœ… å¿…é¡»æ¨¡å—åŒ–çŠ¶æ€ç®¡ç†
â””â”€â”€ styles/design-system/     # âœ… å¿…é¡»ä½¿ç”¨ç»Ÿä¸€è®¾è®¡ç³»ç»Ÿ
```

### ç¦æ­¢çš„ç›®å½•ç»“æ„
```bash
# âŒ ä¸¥ç¦çš„ç›®å½•ç»“æ„
src/SmartAbp.Vue/src/
â”œâ”€â”€ views/all-views/          # âŒ ç¦æ­¢æ‰å¹³åŒ–å †ç§¯
â”œâ”€â”€ components/misc/          # âŒ ç¦æ­¢æ‚é¡¹ç›®å½•
â”œâ”€â”€ styles/themes/            # âŒ ç¦æ­¢å¤šå¥—ä¸»é¢˜ç³»ç»Ÿ
â””â”€â”€ utils/helpers/            # âŒ ç¦æ­¢æ¨¡ç³Šå‘½å
```

## ğŸ”— ä¾èµ–å…³ç³»è§„åˆ™

### å‰ç«¯ä¾èµ–å±‚æ¬¡
```typescript
// âœ… å…è®¸çš„ä¾èµ–å…³ç³»
Views â†’ Components â†’ Composables â†’ Utils
Stores â†’ Services â†’ Utils
Components â†’ Stores (é€šè¿‡composables)

// âŒ ç¦æ­¢çš„ä¾èµ–å…³ç³»
Utils â†’ Views           // âŒ å·¥å…·ä¸èƒ½ä¾èµ–è§†å›¾
Components â†’ Views      // âŒ ç»„ä»¶ä¸èƒ½ä¾èµ–è§†å›¾
Services â†’ Stores       // âŒ æœåŠ¡ä¸èƒ½ä¾èµ–çŠ¶æ€
```

### åç«¯ä¾èµ–å±‚æ¬¡
```csharp
// âœ… å…è®¸çš„ä¾èµ–å…³ç³»
Web â†’ HttpApi â†’ Application â†’ Domain
EntityFrameworkCore â†’ Domain

// âŒ ç¦æ­¢çš„ä¾èµ–å…³ç³»
Domain â†’ Application    // âŒ åŸŸå±‚ä¸èƒ½ä¾èµ–åº”ç”¨å±‚
Domain â†’ Infrastructure // âŒ åŸŸå±‚ä¸èƒ½ä¾èµ–åŸºç¡€è®¾æ–½å±‚
```

## ğŸ¨ è®¾è®¡ç³»ç»Ÿå¼ºåˆ¶ä½¿ç”¨

### CSSå˜é‡ä½¿ç”¨è§„èŒƒ
```css
/* âœ… å¼ºåˆ¶ä½¿ç”¨ï¼šè®¾è®¡ç³»ç»Ÿå˜é‡ */
.user-card {
  background: var(--theme-bg-component);
  border: 1px solid var(--theme-border-base);
  padding: var(--spacing-4);
  border-radius: var(--radius-md);
  color: var(--theme-text-primary);
}

/* âŒ ä¸¥ç¦ä½¿ç”¨ï¼šç¡¬ç¼–ç å€¼ */
.user-card {
  background: #ffffff;     /* ç¦æ­¢ */
  border: 1px solid #e5e7eb; /* ç¦æ­¢ */
  padding: 16px;           /* ç¦æ­¢ */
  border-radius: 6px;      /* ç¦æ­¢ */
  color: #111827;          /* ç¦æ­¢ */
}
```

### ä¸»é¢˜ç³»ç»Ÿçº¦æŸ
```typescript
// âœ… å¼ºåˆ¶ä½¿ç”¨ï¼šç»Ÿä¸€ä¸»é¢˜ç®¡ç†
import { useDesignSystem } from '@/composables/useDesignSystem'

const { setTheme } = useDesignSystem()
setTheme('tech-blue')  // ä½¿ç”¨é¢„å®šä¹‰ä¸»é¢˜

// âŒ ä¸¥ç¦ï¼šè‡ªå®šä¹‰ä¸»é¢˜ç³»ç»Ÿ
document.documentElement.style.setProperty('--color', '#custom')
```

## ğŸ“ æ–‡ä»¶å‘½åå¼ºåˆ¶è§„èŒƒ

### Vueç»„ä»¶å‘½å
```typescript
// âœ… æ­£ç¡®å‘½å
UserListView.vue          // é¡µé¢çº§ç»„ä»¶
UserCard.vue              // ä¸šåŠ¡ç»„ä»¶
BaseButton.vue            // åŸºç¡€ç»„ä»¶

// âŒ é”™è¯¯å‘½å
userList.vue              // å°å†™å¼€å¤´
User_List.vue             // ä¸‹åˆ’çº¿åˆ†éš”
userListComponent.vue     // å†—ä½™åç¼€
```

### TypeScriptæ–‡ä»¶å‘½å
```typescript
// âœ… æ­£ç¡®å‘½å
userService.ts            // æœåŠ¡æ–‡ä»¶
userTypes.ts              // ç±»å‹å®šä¹‰
useUser.ts                // ç»„åˆå‡½æ•°

// âŒ é”™è¯¯å‘½å
UserService.ts            // å¤§å†™å¼€å¤´
user_service.ts           // ä¸‹åˆ’çº¿åˆ†éš”
userServiceImpl.ts        // å†—ä½™åç¼€
```

## ğŸ”„ çŠ¶æ€ç®¡ç†æ¶æ„

### Pinia Storeç»“æ„
```typescript
// âœ… å¼ºåˆ¶ä½¿ç”¨ï¼šæ¨¡å—åŒ–Store
// stores/modules/user.ts
export const useUserStore = defineStore('user', () => {
  // çŠ¶æ€
  const users = ref<UserInfo[]>([])
  const loading = ref(false)
  
  // è®¡ç®—å±æ€§
  const activeUsers = computed(() => ...)
  
  // æ“ä½œ
  const fetchUsers = async () => { ... }
  
  return { users, loading, activeUsers, fetchUsers }
})

// âŒ ä¸¥ç¦ï¼šå…¨å±€Store
// stores/index.ts ç›´æ¥å®šä¹‰æ‰€æœ‰çŠ¶æ€
```

## ğŸ›¡ï¸ ç±»å‹å®‰å…¨å¼ºåˆ¶è¦æ±‚

### TypeScriptä¸¥æ ¼æ¨¡å¼
```typescript
// âœ… å¼ºåˆ¶ä½¿ç”¨ï¼šä¸¥æ ¼ç±»å‹å®šä¹‰
interface UserCreateRequest {
  name: string
  email: string
  role: UserRole
}

const createUser = async (data: UserCreateRequest): Promise<UserInfo> => {
  // å®ç°
}

// âŒ ä¸¥ç¦ï¼šanyç±»å‹
const createUser = async (data: any): Promise<any> => {
  // ç¦æ­¢ä½¿ç”¨any
}
```

## ğŸš¨ è‡ªåŠ¨æ£€æŸ¥æœºåˆ¶

### ä»£ç æäº¤å‰æ£€æŸ¥
```bash
# è‡ªåŠ¨æ‰§è¡Œçš„æ£€æŸ¥åºåˆ—
1. ç›®å½•ç»“æ„åˆè§„æ€§æ£€æŸ¥
2. å‘½åè§„èŒƒæ£€æŸ¥
3. ä¾èµ–å…³ç³»æ£€æŸ¥
4. è®¾è®¡ç³»ç»Ÿä½¿ç”¨æ£€æŸ¥
5. ç±»å‹å®‰å…¨æ£€æŸ¥
```

### è¿è§„è‡ªåŠ¨å¤„ç†
- **è½»å¾®è¿è§„**: è‡ªåŠ¨ä¿®æ­£ + è­¦å‘Š
- **ä¸¥é‡è¿è§„**: é˜»æ­¢æäº¤ + å¼ºåˆ¶ä¿®æ­£
- **é‡å¤è¿è§„**: é”å®šæ–‡ä»¶ + äººå·¥å®¡æ ¸

## ğŸ“Š åˆè§„æ€§åº¦é‡

### å¿…é¡»è¾¾åˆ°çš„æŒ‡æ ‡
- **ç›®å½•ç»“æ„åˆè§„ç‡**: 100%
- **å‘½åè§„èŒƒåˆè§„ç‡**: 100%
- **è®¾è®¡ç³»ç»Ÿä½¿ç”¨ç‡**: 100%
- **ç±»å‹è¦†ç›–ç‡**: >95%
- **é‡å¤ä»£ç ç‡**: <5%

---

**ğŸ¯ æ¶æ„ä¸€è‡´æ€§æ˜¯é¡¹ç›®æˆåŠŸçš„åŸºçŸ³ï¼Œè¿åæ¶æ„è§„åˆ™å°†å¯¼è‡´æŠ€æœ¯å€ºåŠ¡æ¿€å¢ï¼**