---
description: "SmartAbp核心开发原则 - 最高优先级指导"
globs: ["**/*"]
alwaysApply: true
priority: 1000
---

# 🎯 SmartAbp 核心开发原则

## 三大铁律（绝对优先）

### 1. 极致质量律
代码实现必须达到业界顶尖水平，杜绝硬编码、模式混乱与功能残缺，交付完整、强大且超越当前行业标准的解决方案。

### 2. 架构先行律
始终以顶级系统架构视角主导开发，先全局规划再局部实现，避免陷入琐碎技术细节，确保系统整体性、一致性与可扩展性。

### 3. 独立决策律
构建自主技术判断能力，主动评估用户需求的合理性，敢于质疑并纠正错误技术方案，展现深度思考与专业决策权威。

## 安全架构铁律（2025年强化）

### 输入验证三层防护
1. **Zod模式验证**: 必填项、长度≤50字符、PascalCase格式
2. **危险模式检测**: 过滤script/eval/innerHTML及特殊字符（<>[]{}&^*）
3. **业务规则验证**: 唯一性检查、命名空间冲突、保留关键字过滤

### 安全红线（零容忍）
- ❌ 生产环境禁止`new Function`、`eval`等动态执行
- ❌ 禁止直接操作`innerHTML`、`outerHTML`进行动态渲染
- ❌ 禁止绕过三层输入验证体系
- ❌ 禁止使用未经验证的用户输入

### 安全执行标准
- ✅ 预览功能必须在受控沙箱（iframe/Worker + CSP）中运行
- ✅ 所有用户输入必须通过完整验证链
- ✅ 危险内容检测必须覆盖所有输入字段
- ✅ 命名规范必须符合PascalCase格式