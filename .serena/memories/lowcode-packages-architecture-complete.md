# SmartAbp ä½ä»£ç å¼•æ“ Packages å®Œæ•´æ¶æ„ç´¢å¼•

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„æ¦‚è§ˆ

### Monorepo ç»“æ„
```
src/SmartAbp.Vue/packages/
â”œâ”€â”€ lowcode-core/           # æ ¸å¿ƒå¼•æ“
â”œâ”€â”€ lowcode-designer/       # å¯è§†åŒ–è®¾è®¡å™¨
â”œâ”€â”€ lowcode-codegen/        # ä»£ç ç”Ÿæˆå™¨
â”œâ”€â”€ lowcode-api/           # API æ¥å£å±‚
â”œâ”€â”€ lowcode-ui-vue/        # Vue UI ç»„ä»¶åº“
â””â”€â”€ lowcode-tools/         # å·¥å…·é›†åˆ
```

## ğŸ“¦ Package è¯¦ç»†è¯´æ˜

### 1. lowcode-core (æ ¸å¿ƒå¼•æ“)
**è·¯å¾„**: `packages/lowcode-core/src/`
**èŒè´£**: æä¾›ä½ä»£ç å¼•æ“çš„æ ¸å¿ƒåŠŸèƒ½å’ŒåŸºç¡€è®¾æ–½
**å…³é”®æ–‡ä»¶**:
- `index.ts` - æ ¸å¿ƒå¯¼å‡º
- `types/` - ç±»å‹å®šä¹‰
- `utils/` - å·¥å…·å‡½æ•°
- `constants/` - å¸¸é‡å®šä¹‰

### 2. lowcode-designer (å¯è§†åŒ–è®¾è®¡å™¨)
**è·¯å¾„**: `packages/lowcode-designer/src/`
**èŒè´£**: æä¾›ä¼ä¸šçº§å¯è§†åŒ–è®¾è®¡å™¨ç•Œé¢å’Œäº¤äº’
**å…³é”®æ¨¡å—**:

#### æ ¸å¿ƒå¼•æ“ (`core/`)
- `AdvancedCanvas.ts` - WebGL/Canvas2D é«˜æ€§èƒ½ç”»å¸ƒå¼•æ“
- `EnterpriseDesigner.ts` - ä¼ä¸šçº§è®¾è®¡å™¨ä¸»æ§åˆ¶å™¨
- `ExtensibleComponentLibrary.ts` - å¯æ‰©å±•ç»„ä»¶åº“ç³»ç»Ÿ
- `AIDesignAssistant.ts` - AI è®¾è®¡åŠ©æ‰‹
- `DesignVersionControl.ts` - è®¾è®¡ç‰ˆæœ¬æ§åˆ¶ä¸æ—¶é—´æ—…è¡Œ
- `RealTimeCollaboration.ts` - å®æ—¶åä½œåŠŸèƒ½
- `PerformanceOptimizer.ts` - æ€§èƒ½ä¼˜åŒ–å™¨

#### è§†å›¾ç»„ä»¶ (`views/`)
- `VisualDesignerView.vue` - ä¸»è®¾è®¡å™¨ç•Œé¢
- `designer/ComponentPalette.vue` - ç»„ä»¶é¢æ¿
- `designer/LayerManager.vue` - å›¾å±‚ç®¡ç†å™¨
- `designer/PropertyInspector.vue` - å±æ€§æ£€æŸ¥å™¨
- `designer/StyleEditor.vue` - æ ·å¼ç¼–è¾‘å™¨
- `designer/VersionHistory.vue` - ç‰ˆæœ¬å†å²é¢æ¿
- `designer/AIAssistantPanel.vue` - AI åŠ©æ‰‹é¢æ¿
- `codegen/ModuleWizardView.vue` - æ¨¡å—ç”Ÿæˆå‘å¯¼

#### é«˜çº§ç»„ä»¶ (`views/designer/`)
- `AdvancedCanvasComponent.vue` - é«˜çº§ç”»å¸ƒç»„ä»¶
- `MinimapComponent.vue` - ç¼©ç•¥å›¾ç»„ä»¶
- `ExportDialog.vue` - å¯¼å‡ºå¯¹è¯æ¡†
- `ImportDialog.vue` - å¯¼å…¥å¯¹è¯æ¡†
- `PreviewModal.vue` - é¢„è§ˆæ¨¡æ€æ¡†

### 3. lowcode-codegen (ä»£ç ç”Ÿæˆå™¨)
**è·¯å¾„**: `packages/lowcode-codegen/src/`
**èŒè´£**: æä¾›å¤šè¯­è¨€ã€å¤šæ¡†æ¶çš„ä»£ç ç”Ÿæˆèƒ½åŠ›
**å…³é”®æ¨¡å—**:
- `plugins/vue3/` - Vue 3 ä»£ç ç”Ÿæˆæ’ä»¶
- `plugins/sfc-compiler/` - SFC ç¼–è¯‘å™¨æ’ä»¶
- `generators/` - å„ç§ä»£ç ç”Ÿæˆå™¨
- `templates/` - ä»£ç æ¨¡æ¿ç³»ç»Ÿ

### 4. lowcode-api (API æ¥å£å±‚)
**è·¯å¾„**: `packages/lowcode-api/src/`
**èŒè´£**: æä¾›ç»Ÿä¸€çš„ API æ¥å£å’Œæ•°æ®ç®¡ç†
**åŠŸèƒ½**: API å°è£…ã€æ•°æ®æŒä¹…åŒ–ã€è¿œç¨‹æœåŠ¡é›†æˆ

### 5. lowcode-ui-vue (Vue UI ç»„ä»¶åº“)
**è·¯å¾„**: `packages/lowcode-ui-vue/src/`
**èŒè´£**: æä¾› Vue ä¸“ç”¨çš„ UI ç»„ä»¶åº“
**åŠŸèƒ½**: ç»„ä»¶æ³¨å†Œã€ä¸»é¢˜ç³»ç»Ÿã€å“åº”å¼è®¾è®¡

### 6. lowcode-tools (å·¥å…·é›†åˆ)
**è·¯å¾„**: `packages/lowcode-tools/src/`
**èŒè´£**: æä¾›å¼€å‘å·¥å…·å’Œæ„å»ºè„šæœ¬
**å…³é”®å·¥å…·**:
- `template-management/build-template-index.js` - æ¨¡æ¿ç´¢å¼•æ„å»ºå™¨
- `template-management/simple-template-index.js` - ç®€åŒ–æ¨¡æ¿ç´¢å¼•
- `dev-tools/` - å¼€å‘å·¥å…·é›†
- `build-scripts/` - æ„å»ºè„šæœ¬

## ğŸ”§ æŠ€æœ¯æ ˆä¸ä¾èµ–

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Vue 3.5.13** + Composition API
- **TypeScript 5.8** ä¸¥æ ¼æ¨¡å¼
- **Element Plus 2.8.8** UI ç»„ä»¶åº“
- **Pinia 3.0.3** çŠ¶æ€ç®¡ç†
- **Vite 7.0.6** æ„å»ºå·¥å…·

### æ¸²æŸ“å¼•æ“
- **WebGL** é«˜æ€§èƒ½ 3D æ¸²æŸ“
- **Canvas 2D** å¤‡ç”¨æ¸²æŸ“æ–¹æ¡ˆ
- **è™šæ‹ŸåŒ–æ¸²æŸ“** æ”¯æŒå¤§é‡ç»„ä»¶

### AI é›†æˆ
- **è®¾è®¡åˆ†æ** æ™ºèƒ½å¸ƒå±€å»ºè®®
- **æ ·å¼ä¼˜åŒ–** è‡ªåŠ¨æ ·å¼è°ƒæ•´
- **ç»„ä»¶æ¨è** åŸºäºä¸Šä¸‹æ–‡çš„ç»„ä»¶å»ºè®®
- **æ™ºèƒ½é—®ç­”** è®¾è®¡ç›¸å…³é—®é¢˜è§£ç­”

## ğŸ“‹ å¼€å‘è§„èŒƒ

### æ¨¡å—åŒ–åŸåˆ™
1. **å•ä¸€èŒè´£** - æ¯ä¸ª package ä¸“æ³¨ç‰¹å®šåŠŸèƒ½åŸŸ
2. **æ¾è€¦åˆ** - packages é—´é€šè¿‡æ¥å£é€šä¿¡
3. **é«˜å†…èš** - ç›¸å…³åŠŸèƒ½é›†ä¸­åœ¨åŒä¸€ package
4. **å¯æ‰©å±•** - æ”¯æŒæ’ä»¶åŒ–æ‰©å±•

### ä»£ç è´¨é‡
- **TypeScript ä¸¥æ ¼æ¨¡å¼** ç¡®ä¿ç±»å‹å®‰å…¨
- **ESLint + Prettier** ä»£ç é£æ ¼ç»Ÿä¸€
- **Vitest** å•å…ƒæµ‹è¯•è¦†ç›–
- **æ€§èƒ½ç›‘æ§** è¿è¡Œæ—¶æ€§èƒ½è·Ÿè¸ª

### æ„å»ºä¸éƒ¨ç½²
- **Monorepo ç®¡ç†** ç»Ÿä¸€ä¾èµ–ç‰ˆæœ¬
- **å¢é‡æ„å»º** åªæ„å»ºå˜æ›´çš„ packages
- **æ¨¡å—è”é‚¦** æ”¯æŒç‹¬ç«‹éƒ¨ç½²
- **CDN ä¼˜åŒ–** é™æ€èµ„æºåˆ†å‘

## ğŸš€ æ ¸å¿ƒç‰¹æ€§

### ä¼ä¸šçº§åŠŸèƒ½
- **å®æ—¶åä½œ** å¤šäººåŒæ—¶ç¼–è¾‘
- **ç‰ˆæœ¬æ§åˆ¶** è®¾è®¡å†å²ç®¡ç†
- **æƒé™ç®¡ç†** ç»†ç²’åº¦è®¿é—®æ§åˆ¶
- **æ¨¡æ¿ç³»ç»Ÿ** å¯å¤ç”¨è®¾è®¡æ¨¡æ¿

### æ€§èƒ½ä¼˜åŒ–
- **è™šæ‹Ÿæ»šåŠ¨** æ”¯æŒå¤§é‡ç»„ä»¶
- **æ‡’åŠ è½½** æŒ‰éœ€åŠ è½½ç»„ä»¶
- **ç¼“å­˜ç­–ç•¥** æ™ºèƒ½ç¼“å­˜ç®¡ç†
- **WebGL åŠ é€Ÿ** ç¡¬ä»¶åŠ é€Ÿæ¸²æŸ“

### AI è¾…åŠ©è®¾è®¡
- **å¸ƒå±€åˆ†æ** è‡ªåŠ¨å¸ƒå±€ä¼˜åŒ–
- **ç»„ä»¶æ¨è** æ™ºèƒ½ç»„ä»¶å»ºè®®
- **æ ·å¼ç”Ÿæˆ** è‡ªåŠ¨æ ·å¼è°ƒæ•´
- **æ— éšœç¢æ£€æŸ¥** å¯è®¿é—®æ€§éªŒè¯

## ğŸ“ æ–‡ä»¶ç»„ç»‡è§„èŒƒ

### ç›®å½•ç»“æ„æ ‡å‡†
```
packages/{package-name}/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts          # ä¸»å…¥å£
â”‚   â”œâ”€â”€ types/           # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ components/      # ç»„ä»¶
â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ styles/         # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ __tests__/      # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ package.json        # åŒ…é…ç½®
â”œâ”€â”€ tsconfig.json      # TypeScript é…ç½®
â””â”€â”€ README.md          # åŒ…è¯´æ˜æ–‡æ¡£
```

### å¯¼å…¥è·¯å¾„è§„èŒƒ
- ä½¿ç”¨ `@smartabp/lowcode-*` åˆ«å
- ç›¸å¯¹è·¯å¾„ç”¨äºåŒ…å†…å¼•ç”¨
- ç»å¯¹è·¯å¾„ç”¨äºè·¨åŒ…å¼•ç”¨

## ğŸ”„ å¼€å‘æµç¨‹

### æœ¬åœ°å¼€å‘
1. `npm run dev` - å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (ç«¯å£ 11369)
2. `npm run type-check` - TypeScript ç±»å‹æ£€æŸ¥
3. `npm run lint` - ä»£ç è´¨é‡æ£€æŸ¥
4. `npm run test` - è¿è¡Œæµ‹è¯•å¥—ä»¶

### æ„å»ºéƒ¨ç½²
1. `npm run build` - ç”Ÿäº§æ„å»º
2. æ„å»ºäº§ç‰©è¾“å‡ºåˆ° `SmartAbp.Web/wwwroot/dist`
3. æ”¯æŒçƒ­æ¨¡å—æ›¿æ¢å’Œå¢é‡æ„å»º

### è´¨é‡ä¿è¯
- **ç±»å‹æ£€æŸ¥** ä¸¥æ ¼çš„ TypeScript æ£€æŸ¥
- **å•å…ƒæµ‹è¯•** 80% ä»£ç è¦†ç›–ç‡è¦æ±‚
- **E2E æµ‹è¯•** å…³é”®ç”¨æˆ·æµç¨‹æµ‹è¯•
- **æ€§èƒ½æµ‹è¯•** æ¸²æŸ“æ€§èƒ½åŸºå‡†æµ‹è¯•

è¿™ä¸ªæ¶æ„ä¸º SmartAbp ä½ä»£ç å¹³å°æä¾›äº†å®Œæ•´çš„ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒé«˜æ€§èƒ½æ¸²æŸ“ã€å®æ—¶åä½œã€AI è¾…åŠ©è®¾è®¡ç­‰å…ˆè¿›åŠŸèƒ½ã€‚