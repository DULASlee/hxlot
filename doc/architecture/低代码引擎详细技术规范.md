# SmartAbp ä½ä»£ç å¼•æ“è¯¦ç»†æŠ€æœ¯è§„èŒƒ

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯
- **ç‰ˆæœ¬**: v3.0
- **åˆ›å»ºæ—¶é—´**: 2025-01-18
- **ç»´æŠ¤è€…**: SmartAbp Team
- **é€‚ç”¨èŒƒå›´**: SmartAbp ä¼ä¸šçº§å…¨æ ˆä½ä»£ç å¹³å°
- **æŠ€æœ¯æ ˆ**: .NET 8 + ABP Framework + Vue 3 + TypeScript + Monorepo

## ğŸ¯ æ¦‚è¿°

SmartAbp ä½ä»£ç å¼•æ“æ˜¯ä¸€ä¸ªä¼ä¸šçº§å…¨æ ˆä½ä»£ç å¼€å‘å¹³å°ï¼Œé‡‡ç”¨å¾®å†…æ ¸+æ’ä»¶æ¶æ„ï¼Œæ”¯æŒå‰åç«¯ä»£ç ç”Ÿæˆã€å¯è§†åŒ–è®¾è®¡ã€æ¨¡æ¿é©±åŠ¨å¼€å‘ã€‚å¼•æ“åŸºäº Monorepo æ¶æ„ç‹¬ç«‹å‘åŒ…ï¼Œç¡®ä¿æ¨¡å—åŒ–ã€å¯æ‰©å±•æ€§å’Œä¼ä¸šçº§ç¨³å®šæ€§ã€‚

### æ ¸å¿ƒç‰¹æ€§
- ğŸ”§ **å¾®å†…æ ¸æ¶æ„**: è½»é‡çº§å†…æ ¸ + å¯æ’æ‹”æ’ä»¶ç³»ç»Ÿ
- ğŸ¨ **å¯è§†åŒ–è®¾è®¡å™¨**: P2çº§æ‹–æ‹½å¼ç•Œé¢è®¾è®¡å™¨
- ğŸ—ï¸ **å…¨æ ˆä»£ç ç”Ÿæˆ**: æ”¯æŒå‰ç«¯Vue3ã€åç«¯ABPã€æ•°æ®åº“ç­‰
- ğŸ“¦ **Monorepoæ¶æ„**: ç‹¬ç«‹å‘åŒ…ï¼Œç‰ˆæœ¬åŒ–ç®¡ç†
- ğŸš€ **ä¼ä¸šçº§ç‰¹æ€§**: æ€§èƒ½ç›‘æ§ã€ç¼“å­˜ç®¡ç†ã€æ—¥å¿—ç³»ç»Ÿ
- ğŸ”Œ **æ’ä»¶ç”Ÿæ€**: ä¸°å¯Œçš„æ’ä»¶ç³»ç»Ÿï¼Œæ”¯æŒè‡ªå®šä¹‰æ‰©å±•

## ğŸ—ï¸ æ•´ä½“æ¶æ„

### æ¶æ„å±‚æ¬¡å›¾
```mermaid
graph TB
    subgraph "å‰ç«¯ä½ä»£ç å¼•æ“ (Monorepo)"
        subgraph "æ ¸å¿ƒå±‚"
            Core[lowcode-core<br/>å¼•æ“å†…æ ¸]
            API[lowcode-api<br/>APIå®¢æˆ·ç«¯]
        end
        
        subgraph "åŠŸèƒ½å±‚"
            Designer[lowcode-designer<br/>å¯è§†åŒ–è®¾è®¡å™¨]
            Codegen[lowcode-codegen<br/>ä»£ç ç”Ÿæˆå¼•æ“]
            UI[lowcode-ui-vue<br/>UIç»„ä»¶åº“]
        end
        
        subgraph "å·¥å…·å±‚"
            Tools[lowcode-tools<br/>å¼€å‘å·¥å…·]
        end
    end
    
    subgraph "åç«¯ä½ä»£ç å¼•æ“"
        CodeGenService[CodeGenerationAppService]
        RoslynEngine[Roslynä»£ç å¼•æ“]
        MetadataStore[å…ƒæ•°æ®å­˜å‚¨]
    end
    
    subgraph "ä¸»åº”ç”¨"
        VueApp[Vue 3 ä¸»åº”ç”¨]
        AbpBackend[ABP Framework åç«¯]
    end
    
    Core --> Designer
    Core --> Codegen
    Designer --> UI
    Codegen --> Tools
    API --> CodeGenService
    VueApp --> Core
    VueApp --> Designer
    AbpBackend --> RoslynEngine
```

### æŠ€æœ¯æ ˆçŸ©é˜µ
| å±‚çº§ | å‰ç«¯æŠ€æœ¯ | åç«¯æŠ€æœ¯ | å·¥å…·é“¾ |
|------|----------|----------|--------|
| **æ ¸å¿ƒå¼•æ“** | TypeScript, Vue 3 | C#, .NET 8 | Vite, pnpm |
| **å¯è§†åŒ–è®¾è®¡** | Vue 3, Element Plus | - | Canvas API, D3.js |
| **ä»£ç ç”Ÿæˆ** | Template Engine | Roslyn, T4 | AST, Source Generator |
| **æ„å»ºå·¥å…·** | Vite, Rollup | MSBuild | Turbo, Lerna |
| **æµ‹è¯•æ¡†æ¶** | Vitest, Cypress | xUnit, NUnit | Jest, Playwright |

## ğŸ“¦ Monorepo åŒ…æ¶æ„

### åŒ…ç»“æ„æ¦‚è§ˆ
```
src/SmartAbp.Vue/packages/
â”œâ”€â”€ @smartabp/lowcode-core          # ğŸ”§ å¼•æ“å†…æ ¸åŒ…
â”œâ”€â”€ @smartabp/lowcode-designer      # ğŸ¨ å¯è§†åŒ–è®¾è®¡å™¨åŒ…
â”œâ”€â”€ @smartabp/lowcode-codegen       # ğŸ—ï¸ ä»£ç ç”Ÿæˆå¼•æ“åŒ…
â”œâ”€â”€ @smartabp/lowcode-api           # ğŸŒ API å®¢æˆ·ç«¯åŒ…
â”œâ”€â”€ @smartabp/lowcode-ui-vue        # ğŸ­ Vue UI ç»„ä»¶åŒ…
â””â”€â”€ @smartabp/lowcode-tools         # ğŸ› ï¸ å¼€å‘å·¥å…·åŒ…
```

### 1. @smartabp/lowcode-core (å¼•æ“å†…æ ¸)

#### æ ¸å¿ƒèŒè´£
- å¾®å†…æ ¸ç³»ç»Ÿç®¡ç†
- æ’ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†
- äº‹ä»¶æ€»çº¿å’Œé€šä¿¡
- ç¼“å­˜å’Œæ€§èƒ½ç›‘æ§
- è¿è¡Œæ—¶ç³»ç»Ÿ

#### ç›®å½•ç»“æ„
```
src/
â”œâ”€â”€ kernel/                     # å¾®å†…æ ¸ç³»ç»Ÿ
â”‚   â”œâ”€â”€ core.ts                # å†…æ ¸æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ types.ts               # æ ¸å¿ƒç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ events.ts              # äº‹ä»¶ç³»ç»Ÿ
â”‚   â”œâ”€â”€ logger.ts              # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ monitor.ts             # æ€§èƒ½ç›‘æ§
â”‚   â”œâ”€â”€ cache.ts               # ç¼“å­˜ç®¡ç†
â”‚   â””â”€â”€ plugins.ts             # æ’ä»¶ç®¡ç†å™¨
â”œâ”€â”€ runtime/                    # è¿è¡Œæ—¶ç³»ç»Ÿ
â”‚   â”œâ”€â”€ worker-pool.ts         # Workeræ± ç®¡ç†
â”‚   â”œâ”€â”€ metadata/pipeline.ts   # å…ƒæ•°æ®ç®¡é“
â”‚   â”œâ”€â”€ persistence/indexeddb.ts # æœ¬åœ°å­˜å‚¨
â”‚   â””â”€â”€ workers/               # Web Workers
â”œâ”€â”€ adapters/                   # é€‚é…å™¨å±‚
â”‚   â””â”€â”€ logger-adapter.ts      # æ—¥å¿—é€‚é…å™¨
â”œâ”€â”€ federation/                 # è”é‚¦åŒ–ç³»ç»Ÿ
â”‚   â”œâ”€â”€ content-cache.ts       # å†…å®¹ç¼“å­˜
â”‚   â””â”€â”€ loader.ts              # æ¨¡å—åŠ è½½å™¨
â””â”€â”€ utils/                      # å·¥å…·å‡½æ•°
    â””â”€â”€ realtime-preview.ts    # å®æ—¶é¢„è§ˆ
```

#### æ ¸å¿ƒAPI
```typescript
// å†…æ ¸é…ç½®æ¥å£
export interface LowCodeKernelConfig {
  cache?: CacheConfig
  logging?: LoggingConfig
  monitoring?: MonitoringConfig
  plugins?: PluginConfig
}

// å†…æ ¸ä¸»ç±»
export class LowCodeKernel {
  constructor(config: LowCodeKernelConfig)
  
  // æ’ä»¶ç®¡ç†
  registerPlugin<T>(plugin: CodegenPlugin<T>): Promise<void>
  unregisterPlugin(name: string): Promise<void>
  getPlugin<T>(name: string): CodegenPlugin<T> | null
  
  // ä»£ç ç”Ÿæˆ
  generate<T>(schema: Schema, options?: GenerateOptions): Promise<GeneratedCode>
  
  // ç”Ÿå‘½å‘¨æœŸ
  start(): Promise<void>
  stop(): Promise<void>
  
  // äº‹ä»¶ç³»ç»Ÿ
  on(event: string, handler: Function): void
  emit(event: string, data: any): void
}
```

### 2. @smartabp/lowcode-designer (å¯è§†åŒ–è®¾è®¡å™¨)

#### æ ¸å¿ƒèŒè´£
- P2çº§å¯è§†åŒ–è®¾è®¡å™¨
- æ‹–æ‹½å¼ç•Œé¢æ„å»º
- ç»„ä»¶å±æ€§ç¼–è¾‘
- Schemaç®¡ç†å’Œå¯¼å‡º
- å®æ—¶é¢„è§ˆåŠŸèƒ½

#### ä¸»è¦ç»„ä»¶
```
src/
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ VisualDesignerView.vue     # ä¸»è®¾è®¡å™¨è§†å›¾
â”‚   â”œâ”€â”€ codegen/
â”‚   â”‚   â”œâ”€â”€ LowCodeEngineView.vue  # å¼•æ“æ§åˆ¶å°
â”‚   â”‚   â”œâ”€â”€ ModuleWizardView.vue   # æ¨¡å—å‘å¯¼
â”‚   â”‚   â””â”€â”€ SfcCompilerView.vue    # SFCç¼–è¯‘å™¨
â”‚   â””â”€â”€ designer/
â”‚       â”œâ”€â”€ Canvas.vue             # è®¾è®¡ç”»å¸ƒ
â”‚       â”œâ”€â”€ Palette.vue            # ç»„ä»¶é¢æ¿
â”‚       â””â”€â”€ Inspector.vue          # å±æ€§æ£€æŸ¥å™¨
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ DraggableComponent.vue     # å¯æ‹–æ‹½ç»„ä»¶
â”‚   â”œâ”€â”€ PropertyInspector.vue      # å±æ€§ç¼–è¾‘å™¨
â”‚   â””â”€â”€ CodeGenerator/
â”‚       â””â”€â”€ EntityDesigner.vue    # å®ä½“è®¾è®¡å™¨
â”œâ”€â”€ designer/schema/               # Schemaå¤„ç†
â”‚   â”œâ”€â”€ exporter.ts               # Schemaå¯¼å‡º
â”‚   â”œâ”€â”€ reader.ts                 # SFCå›è¯»
â”‚   â””â”€â”€ override.ts               # Schemaè¦†ç›–
â””â”€â”€ stores/
    â””â”€â”€ designer.ts               # è®¾è®¡å™¨çŠ¶æ€
```

#### è®¾è®¡å™¨æ ¸å¿ƒåŠŸèƒ½
```typescript
// è®¾è®¡å™¨ä¸»æ¥å£
export interface VisualDesigner {
  // ç”»å¸ƒç®¡ç†
  canvas: CanvasManager
  palette: ComponentPalette
  inspector: PropertyInspector
  
  // Schemaæ“ä½œ
  loadSchema(schema: Schema): Promise<void>
  exportSchema(): Promise<Schema>
  
  // ç»„ä»¶æ“ä½œ
  addComponent(type: string, props: any): void
  removeComponent(id: string): void
  updateComponent(id: string, props: any): void
  
  // æ‹–æ‹½æ“ä½œ
  startDrag(component: Component): void
  drop(target: DropTarget, position: Position): void
}
```

### 3. @smartabp/lowcode-codegen (ä»£ç ç”Ÿæˆå¼•æ“)

#### æ ¸å¿ƒèŒè´£
- æ¨¡æ¿é©±åŠ¨ä»£ç ç”Ÿæˆ
- å¤šæ¡†æ¶æ”¯æŒ (Vue3, React, ABP)
- æ’ä»¶åŒ–ç”Ÿæˆå™¨
- å¢é‡ä»£ç ç”Ÿæˆ

#### æ’ä»¶æ¶æ„
```
src/plugins/
â”œâ”€â”€ vue3/                      # Vue3ç”Ÿæˆå™¨
â”œâ”€â”€ sfc-compiler/              # SFCç¼–è¯‘å™¨
â”œâ”€â”€ router-generator/          # è·¯ç”±ç”Ÿæˆå™¨
â””â”€â”€ store-generator/           # çŠ¶æ€ç®¡ç†ç”Ÿæˆå™¨
```

#### ä»£ç ç”Ÿæˆæµç¨‹
```typescript
// ç”Ÿæˆå™¨æ¥å£
export interface CodeGenerator {
  name: string
  version: string
  
  canHandle(schema: Schema): boolean
  generate(schema: Schema, config: GenerateConfig): Promise<GeneratedCode>
  validate(schema: Schema): ValidationResult
}

// ç”Ÿæˆé…ç½®
export interface GenerateConfig {
  target: 'vue3' | 'react' | 'abp'
  outputPath: string
  templatePath?: string
  options?: Record<string, any>
}
```

### 4. @smartabp/lowcode-api (APIå®¢æˆ·ç«¯)

#### æ ¸å¿ƒèŒè´£
- åç«¯APIå°è£…
- ç±»å‹å®šä¹‰ç®¡ç†
- HTTPå®¢æˆ·ç«¯é…ç½®
- é”™è¯¯å¤„ç†å’Œé‡è¯•

#### APIç»“æ„
```
src/
â”œâ”€â”€ index.ts                   # ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ code-generator.ts          # ä»£ç ç”ŸæˆAPI
â”œâ”€â”€ metadata.ts                # å…ƒæ•°æ®API
â””â”€â”€ types.ts                   # ç±»å‹å®šä¹‰
```

### 5. @smartabp/lowcode-ui-vue (UIç»„ä»¶åº“)

#### æ ¸å¿ƒèŒè´£
- ä½ä»£ç ä¸“ç”¨UIç»„ä»¶
- è®¾è®¡å™¨ç»„ä»¶åº“
- ä¸»é¢˜å’Œæ ·å¼ç³»ç»Ÿ
- å¯è®¿é—®æ€§æ”¯æŒ

### 6. @smartabp/lowcode-tools (å¼€å‘å·¥å…·)

#### æ ¸å¿ƒèŒè´£
- CLIå·¥å…·
- æ¨¡æ¿ç®¡ç†
- æ„å»ºå·¥å…·
- å¼€å‘æ’ä»¶

## ğŸ”§ åç«¯ä½ä»£ç å¼•æ“

### SmartAbp.CodeGenerator æ¨¡å—

#### æ ¸å¿ƒæ¶æ„
```
src/SmartAbp.CodeGenerator/
â”œâ”€â”€ Core/
â”‚   â”œâ”€â”€ RoslynCodeEngine.cs        # Roslynä»£ç å¼•æ“
â”‚   â”œâ”€â”€ Definitions.cs             # æ ¸å¿ƒå®šä¹‰
â”‚   â””â”€â”€ PerformanceCounters.cs     # æ€§èƒ½è®¡æ•°å™¨
â”œâ”€â”€ Services/
â”‚   â”œâ”€â”€ CodeGenerationAppService.cs # ä»£ç ç”Ÿæˆåº”ç”¨æœåŠ¡
â”‚   â”œâ”€â”€ MetadataAppService.cs       # å…ƒæ•°æ®æœåŠ¡
â”‚   â””â”€â”€ CodeWriterService.cs        # ä»£ç å†™å…¥æœåŠ¡
â”œâ”€â”€ ApplicationServices/
â”‚   â””â”€â”€ ApplicationServicesGenerator.cs # åº”ç”¨æœåŠ¡ç”Ÿæˆå™¨
â”œâ”€â”€ DDD/
â”‚   â””â”€â”€ DomainDrivenDesignGenerator.cs # DDDç”Ÿæˆå™¨
â”œâ”€â”€ CQRS/
â”‚   â””â”€â”€ CqrsPatternGenerator.cs     # CQRSæ¨¡å¼ç”Ÿæˆå™¨
â””â”€â”€ Hubs/
    â””â”€â”€ CodeGenerationProgressHub.cs # SignalRè¿›åº¦æ¨é€
```

#### æ ¸å¿ƒæœåŠ¡æ¥å£
```csharp
// ä»£ç ç”Ÿæˆåº”ç”¨æœåŠ¡
public interface ICodeGenerationAppService : IApplicationService
{
    Task<CodeGenerationResultDto> GenerateAsync(CodeGenerationRequestDto request);
    Task<List<TemplateDto>> GetTemplatesAsync();
    Task<MetadataDto> GetMetadataAsync(string entityName);
}

// Roslynä»£ç å¼•æ“
public class RoslynCodeEngine
{
    public async Task<GeneratedCode> GenerateEntityAsync(EntityMetadata metadata)
    public async Task<GeneratedCode> GenerateApplicationServiceAsync(ServiceMetadata metadata)
    public async Task<GeneratedCode> GenerateCrudOperationsAsync(CrudMetadata metadata)
}
```

## ğŸ”„ æ•°æ®æµå’Œäº¤äº’

### å‰åç«¯äº¤äº’æµç¨‹
```mermaid
sequenceDiagram
    participant Designer as å¯è§†åŒ–è®¾è®¡å™¨
    participant FrontEngine as å‰ç«¯å¼•æ“
    participant API as APIå®¢æˆ·ç«¯
    participant BackService as åç«¯æœåŠ¡
    participant RoslynEngine as Roslynå¼•æ“
    participant SignalR as SignalR Hub
    
    Designer->>FrontEngine: è®¾è®¡Schema
    FrontEngine->>API: å‘é€ç”Ÿæˆè¯·æ±‚
    API->>BackService: HTTPè¯·æ±‚
    BackService->>RoslynEngine: è°ƒç”¨ä»£ç ç”Ÿæˆ
    BackService->>SignalR: æ¨é€è¿›åº¦
    SignalR->>FrontEngine: å®æ—¶è¿›åº¦æ›´æ–°
    RoslynEngine->>BackService: è¿”å›ç”Ÿæˆç»“æœ
    BackService->>API: è¿”å›å“åº”
    API->>FrontEngine: å¤„ç†ç»“æœ
    FrontEngine->>Designer: æ›´æ–°UIçŠ¶æ€
```

### å…ƒæ•°æ®æµæ°´çº¿
```mermaid
graph LR
    A[åŸå§‹Schema] --> B[å…ƒæ•°æ®éªŒè¯]
    B --> C[ç±»å‹æ¨æ–­]
    C --> D[ä¾èµ–åˆ†æ]
    D --> E[æ¨¡æ¿åŒ¹é…]
    E --> F[ä»£ç ç”Ÿæˆ]
    F --> G[è´¨é‡æ£€æŸ¥]
    G --> H[è¾“å‡ºæ–‡ä»¶]
```

## ğŸ¨ å¯è§†åŒ–è®¾è®¡å™¨è¯¦ç»†è§„èŒƒ

### P2çº§è®¾è®¡å™¨åŠŸèƒ½
1. **ç”»å¸ƒç³»ç»Ÿ (Canvas)**
   - æ— é™ç”»å¸ƒæ”¯æŒ
   - ç½‘æ ¼å¯¹é½å’Œå¸é™„
   - ç¼©æ”¾å’Œå¹³ç§»
   - å¤šé€‰å’Œæ‰¹é‡æ“ä½œ

2. **ç»„ä»¶é¢æ¿ (Palette)**
   - åˆ†ç±»ç»„ä»¶åº“
   - æœç´¢å’Œè¿‡æ»¤
   - è‡ªå®šä¹‰ç»„ä»¶æ”¯æŒ
   - æ‹–æ‹½é¢„è§ˆ

3. **å±æ€§æ£€æŸ¥å™¨ (Inspector)**
   - åŠ¨æ€å±æ€§ç¼–è¾‘
   - ç±»å‹éªŒè¯
   - å®æ—¶é¢„è§ˆ
   - æ‰¹é‡ç¼–è¾‘

4. **Schemaç³»ç»Ÿ**
   - JSON SchemaéªŒè¯
   - ç‰ˆæœ¬ç®¡ç†
   - å¢é‡æ›´æ–°
   - å¯¼å…¥å¯¼å‡º

### æ‹–æ‹½å¼•æ“è§„èŒƒ
```typescript
// æ‹–æ‹½å¼•æ“æ¥å£
export interface DragDropEngine {
  // æ‹–æ‹½çŠ¶æ€
  isDragging: boolean
  dragData: DragData | null
  
  // æ‹–æ‹½æ“ä½œ
  startDrag(source: DragSource, data: DragData): void
  updateDrag(position: Position): void
  endDrag(target?: DropTarget): void
  
  // äº‹ä»¶å¤„ç†
  onDragStart: (handler: DragStartHandler) => void
  onDragOver: (handler: DragOverHandler) => void
  onDrop: (handler: DropHandler) => void
}

// æ‹–æ‹½æ•°æ®
export interface DragData {
  type: 'component' | 'asset' | 'template'
  payload: any
  preview?: HTMLElement
  constraints?: DragConstraints
}
```

## ğŸ—ï¸ ä»£ç ç”Ÿæˆè¯¦ç»†è§„èŒƒ

### æ¨¡æ¿ç³»ç»Ÿ
```
templates/
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ CrudManagement.template.vue
â”‚   â”‚   â”œâ”€â”€ FormDialog.template.vue
â”‚   â”‚   â””â”€â”€ DataTable.template.vue
â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â””â”€â”€ EntityStore.template.ts
â”‚   â””â”€â”€ services/
â”‚       â””â”€â”€ EntityService.template.ts
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â”œâ”€â”€ CrudAppService.template.cs
â”‚   â”‚   â””â”€â”€ EntityAppService.template.cs
â”‚   â”œâ”€â”€ contracts/
â”‚   â”‚   â”œâ”€â”€ EntityDto.template.cs
â”‚   â”‚   â””â”€â”€ CreateUpdateEntityDto.template.cs
â”‚   â””â”€â”€ domain/
â”‚       â””â”€â”€ Entity.template.cs
â””â”€â”€ database/
    â”œâ”€â”€ migrations/
    â””â”€â”€ configurations/
```

### ç”Ÿæˆå™¨æ’ä»¶è§„èŒƒ
```typescript
// æ’ä»¶åŸºç±»
export abstract class CodegenPlugin {
  abstract readonly name: string
  abstract readonly version: string
  abstract readonly metadata: PluginMetadata
  
  // ç”Ÿå‘½å‘¨æœŸ
  async onInit(): Promise<void> {}
  async onDestroy(): Promise<void> {}
  
  // æ ¸å¿ƒæ–¹æ³•
  abstract canHandle(schema: Schema): boolean
  abstract generate(schema: Schema, config: any, context: PluginContext): Promise<GeneratedCode>
  
  // å¯é€‰æ–¹æ³•
  validate?(schema: Schema): ValidationResult
  transform?(code: string): string
  optimize?(code: string): string
}
```

### å¢é‡ç”Ÿæˆç­–ç•¥
1. **æ–‡ä»¶çº§å¢é‡**: åŸºäºæ–‡ä»¶å“ˆå¸Œæ£€æµ‹å˜æ›´
2. **å—çº§å¢é‡**: åŸºäºä»£ç å—æ ‡è®°è¿›è¡Œå±€éƒ¨æ›´æ–°
3. **ä¾èµ–çº§å¢é‡**: åŸºäºä¾èµ–å›¾è¿›è¡Œæ™ºèƒ½æ›´æ–°
4. **ç”¨æˆ·çº§å¢é‡**: ä¿æŠ¤ç”¨æˆ·è‡ªå®šä¹‰ä»£ç 

## ğŸ”Œ æ’ä»¶ç”Ÿæ€ç³»ç»Ÿ

### æ’ä»¶åˆ†ç±»
1. **ç”Ÿæˆå™¨æ’ä»¶**: è´Ÿè´£ç‰¹å®šæ¡†æ¶çš„ä»£ç ç”Ÿæˆ
2. **è½¬æ¢å™¨æ’ä»¶**: è´Ÿè´£ä»£ç è½¬æ¢å’Œä¼˜åŒ–
3. **éªŒè¯å™¨æ’ä»¶**: è´Ÿè´£ä»£ç è´¨é‡æ£€æŸ¥
4. **å·¥å…·æ’ä»¶**: è´Ÿè´£å¼€å‘å·¥å…·é›†æˆ

### æ’ä»¶å¼€å‘è§„èŒƒ
```typescript
// æ’ä»¶é…ç½®
export interface PluginConfig {
  name: string
  version: string
  entry: string
  dependencies?: string[]
  peerDependencies?: string[]
  config?: Record<string, any>
}

// æ’ä»¶æ³¨å†Œ
export function definePlugin(config: PluginConfig): Plugin {
  return {
    ...config,
    install(kernel: LowCodeKernel) {
      // æ’ä»¶å®‰è£…é€»è¾‘
    }
  }
}
```

## ğŸ“Š æ€§èƒ½å’Œç›‘æ§

### æ€§èƒ½æŒ‡æ ‡
- **å†…æ ¸å¯åŠ¨æ—¶é—´**: < 100ms
- **æ’ä»¶åŠ è½½æ—¶é—´**: < 50ms/æ’ä»¶
- **ä»£ç ç”Ÿæˆæ—¶é—´**: < 1s/1000è¡Œ
- **å†…å­˜ä½¿ç”¨**: < 100MB (åŸºç¡€åŠŸèƒ½)
- **ç¼“å­˜å‘½ä¸­ç‡**: > 90%

### ç›‘æ§ç³»ç»Ÿ
```typescript
// æ€§èƒ½ç›‘æ§å™¨
export class PerformanceMonitor {
  // æŒ‡æ ‡æ”¶é›†
  recordMetric(name: string, value: number, tags?: Record<string, string>): void
  recordTiming(name: string, duration: number): void
  recordCounter(name: string, increment?: number): void
  
  // æŠ¥å‘Šç”Ÿæˆ
  generateReport(): PerformanceReport
  exportMetrics(format: 'json' | 'csv' | 'prometheus'): string
}
```

## ğŸ”’ å®‰å…¨å’Œè´¨é‡

### å®‰å…¨æªæ–½
1. **ä»£ç æ²™ç®±**: éš”ç¦»ç”¨æˆ·ä»£ç æ‰§è¡Œ
2. **è¾“å…¥éªŒè¯**: ä¸¥æ ¼çš„SchemaéªŒè¯
3. **æƒé™æ§åˆ¶**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
4. **å®¡è®¡æ—¥å¿—**: å®Œæ•´çš„æ“ä½œè®°å½•

### è´¨é‡ä¿è¯
1. **ç±»å‹å®‰å…¨**: å®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
2. **å•å…ƒæµ‹è¯•**: > 80% ä»£ç è¦†ç›–ç‡
3. **é›†æˆæµ‹è¯•**: ç«¯åˆ°ç«¯æµ‹è¯•è¦†ç›–
4. **æ€§èƒ½æµ‹è¯•**: åŸºå‡†æµ‹è¯•å’Œå‹åŠ›æµ‹è¯•

## ğŸš€ éƒ¨ç½²å’Œè¿ç»´

### æ„å»ºé…ç½®
```json
{
  "scripts": {
    "build": "turbo run build",
    "test": "turbo run test",
    "lint": "turbo run lint",
    "type-check": "turbo run type-check"
  },
  "workspaces": [
    "packages/*"
  ]
}
```

### å‘å¸ƒç­–ç•¥
1. **è¯­ä¹‰åŒ–ç‰ˆæœ¬**: éµå¾ªSemVerè§„èŒƒ
2. **ç‹¬ç«‹å‘åŒ…**: æ¯ä¸ªåŒ…ç‹¬ç«‹ç‰ˆæœ¬ç®¡ç†
3. **è‡ªåŠ¨å‘å¸ƒ**: åŸºäºCI/CDçš„è‡ªåŠ¨å‘å¸ƒ
4. **å›æ»šæœºåˆ¶**: æ”¯æŒå¿«é€Ÿç‰ˆæœ¬å›æ»š

## ğŸ“ˆ è·¯çº¿å›¾å’Œæ‰©å±•

### çŸ­æœŸç›®æ ‡ (Q1 2025)
- [ ] å®Œå–„æ ¸å¿ƒå¼•æ“ç¨³å®šæ€§
- [ ] å¢å¼ºå¯è§†åŒ–è®¾è®¡å™¨åŠŸèƒ½
- [ ] ä¼˜åŒ–ä»£ç ç”Ÿæˆæ€§èƒ½
- [ ] å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹

### ä¸­æœŸç›®æ ‡ (Q2-Q3 2025)
- [ ] æ”¯æŒæ›´å¤šå‰ç«¯æ¡†æ¶ (React, Angular)
- [ ] å¢åŠ ç§»åŠ¨ç«¯æ”¯æŒ (UniApp, React Native)
- [ ] å®ç°äº‘ç«¯åä½œåŠŸèƒ½
- [ ] å»ºç«‹æ’ä»¶å¸‚åœº

### é•¿æœŸç›®æ ‡ (Q4 2025+)
- [ ] AIè¾…åŠ©è®¾è®¡å’Œç”Ÿæˆ
- [ ] å¾®å‰ç«¯æ¶æ„æ”¯æŒ
- [ ] å¤šç§Ÿæˆ·SaaSå¹³å°
- [ ] ä¼ä¸šçº§æ²»ç†åŠŸèƒ½

## ğŸ“š å‚è€ƒèµ„æ–™

### ç›¸å…³æ–‡æ¡£
- [é¡¹ç›®ç¼–ç¨‹è§„åˆ™](../é¡¹ç›®ç¼–ç¨‹è§„åˆ™.md)
- [é¡¹ç›®å¼€å‘é“å¾‹](../é¡¹ç›®å¼€å‘é“å¾‹.md)
- [ç³»ç»Ÿæ¶æ„è¯´æ˜ä¹¦](./ç³»ç»Ÿæ¶æ„è¯´æ˜ä¹¦.md)
- [ADR-0016: ä½ä»£ç å¼•æ“Monorepoé‡æ„](./adr/0016-lowcode-engine-monorepo-refactoring.md)

### æŠ€æœ¯æ ‡å‡†
- [Vue 3 å®˜æ–¹æ–‡æ¡£](https://vuejs.org/)
- [TypeScript å®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/)
- [ABP Framework æ–‡æ¡£](https://docs.abp.io/)
- [Roslyn API æ–‡æ¡£](https://docs.microsoft.com/en-us/dotnet/csharp/roslyn-sdk/)

---

**æ–‡æ¡£ç»´æŠ¤**: æœ¬æ–‡æ¡£ç”±SmartAbpå›¢é˜Ÿç»´æŠ¤ï¼Œæœ€åæ›´æ–°æ—¶é—´: 2025-01-18
**ç‰ˆæœ¬å†å²**: 
- v1.0 (2024-01): åˆå§‹ç‰ˆæœ¬
- v2.0 (2024-09): é‡æ„ä¸ºMonorepoæ¶æ„
- v3.0 (2025-01): å®Œå–„æŠ€æœ¯è§„èŒƒå’Œå®ç°ç»†èŠ‚