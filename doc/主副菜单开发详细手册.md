# ä¸»å‰¯èœå•å¼€å‘è¯¦ç»†æ‰‹å†Œ

## ğŸ“‹ ç›®å½•
1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [è®¾è®¡ç†å¿µ](#è®¾è®¡ç†å¿µ)
3. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
4. [å¼€å‘æ­¥éª¤](#å¼€å‘æ­¥éª¤)
5. [æ ¸å¿ƒåŠŸèƒ½å®ç°](#æ ¸å¿ƒåŠŸèƒ½å®ç°)
6. [æ ·å¼ç³»ç»Ÿ](#æ ·å¼ç³»ç»Ÿ)
7. [äº¤äº’é€»è¾‘](#äº¤äº’é€»è¾‘)
8. [æµ‹è¯•éªŒè¯](#æµ‹è¯•éªŒè¯)
9. [æ‰©å±•æŒ‡å—](#æ‰©å±•æŒ‡å—)

## é¡¹ç›®æ¦‚è¿°

### éœ€æ±‚èƒŒæ™¯
SmartAbpä¼ä¸šç®¡ç†ç³»ç»Ÿéœ€è¦ä¸€ä¸ªä¸“ä¸šçš„å¯¼èˆªèœå•ç³»ç»Ÿï¼Œæ”¯æŒï¼š
- ä¸»èœå•æ˜¾ç¤ºæ ¸å¿ƒåŠŸèƒ½æ¨¡å—
- å‰¯èœå•åœ¨ä¸»èœå•å³ä¾§åŠ¨æ€æ»‘å‡º
- æ”¶èµ·æŒ‰é’®ä½ç½®åˆç†ï¼ˆé¡¶éƒ¨æˆ–Tabæ å·¦ä¾§ï¼‰
- å®Œå…¨å“åº”å¼é€‚é…å„ç§å±å¹•å°ºå¯¸

### è®¾è®¡ç›®æ ‡
- **ä¸“ä¸šæ€§**: ç¬¦åˆä¼ä¸šçº§åº”ç”¨æ ‡å‡†
- **æ˜“ç”¨æ€§**: ç›´è§‚çš„æ“ä½œé€»è¾‘
- **å“åº”å¼**: é€‚é…æ‰€æœ‰è®¾å¤‡å°ºå¯¸
- **å¯æ‰©å±•**: ä¾¿äºæ·»åŠ æ–°åŠŸèƒ½æ¨¡å—

### æœ€ç»ˆæ•ˆæœ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    é¡¶éƒ¨å¯¼èˆªæ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [â˜°]     â”‚ â”‚ç³»ç»Ÿç®¡ç†  â”‚ â”‚ [â˜°] Tab1 Tab2 Tab3        â”‚ â”‚
â”‚ â”‚ ğŸ“Šå·¥ä½œå° â”‚ â”‚ğŸ‘¤ç”¨æˆ·ç®¡ç†â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ âš™ï¸ç³»ç»Ÿç®¡ç†â”‚ â”‚ğŸ”è§’è‰²ç®¡ç†â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ ğŸ—ï¸é¡¹ç›®ç®¡ç†â”‚ â”‚ğŸ“‹èœå•ç®¡ç†â”‚ â”‚        ä¸»å†…å®¹åŒº              â”‚ â”‚
â”‚ â”‚ ğŸ‘¥è€ƒå‹¤ç®¡ç†â”‚ â”‚ğŸ“šå­—å…¸ç®¡ç†â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ ğŸ”§è®¾å¤‡ç®¡ç†â”‚ â”‚         â”‚ â”‚                             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## è®¾è®¡ç†å¿µ

### 1. åˆ†å±‚å¯¼èˆªç»“æ„

#### ä¸‰å±‚æ¶æ„
1. **ä¸»èœå•å±‚**: æ˜¾ç¤ºæ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼ˆç³»ç»Ÿç®¡ç†ã€é¡¹ç›®ç®¡ç†ç­‰ï¼‰
2. **å‰¯èœå•å±‚**: æ˜¾ç¤ºå…·ä½“åŠŸèƒ½é¡µé¢ï¼ˆç”¨æˆ·ç®¡ç†ã€è§’è‰²ç®¡ç†ç­‰ï¼‰
3. **å†…å®¹å±‚**: æ˜¾ç¤ºé¡µé¢å…·ä½“å†…å®¹

#### äº¤äº’é€»è¾‘
- ç‚¹å‡»ä¸»èœå• â†’ å³ä¾§æ»‘å‡ºå‰¯èœå•
- ç‚¹å‡»å‰¯èœå• â†’ åˆ‡æ¢åˆ°å…·ä½“é¡µé¢
- ç‚¹å‡»å·¥ä½œå° â†’ ç›´æ¥åˆ‡æ¢ï¼Œæ— å‰¯èœå•

### 2. ç©ºé—´åˆ©ç”¨åŸåˆ™

#### å®½åº¦åˆ†é…
- **ä¸»èœå•**: 240pxï¼ˆå¯æ”¶èµ·è‡³64pxï¼‰
- **å‰¯èœå•**: 220pxï¼ˆåŠ¨æ€æ˜¾ç¤º/éšè—ï¼‰
- **å†…å®¹åŒº**: å‰©ä½™ç©ºé—´è‡ªé€‚åº”

#### å“åº”å¼ç­–ç•¥
- **å¤§å±å¹•**: ä¸»èœå• + å‰¯èœå• + å†…å®¹åŒº
- **ä¸­ç­‰å±å¹•**: ä¸»èœå• + å‰¯èœå•æµ®å±‚ + å†…å®¹åŒº
- **å°å±å¹•**: ä¸»èœå•æµ®å±‚ + å†…å®¹åŒºå…¨å±

## æŠ€æœ¯æ¶æ„

### 1. Vue3 ç»„ä»¶ç»“æ„

```
App.vue
â”œâ”€â”€ LoginForm.vue (ç™»å½•ç»„ä»¶)
â”œâ”€â”€ AdminLayout (ç®¡ç†å¸ƒå±€)
â”‚   â”œâ”€â”€ Header (é¡¶éƒ¨å¯¼èˆª)
â”‚   â”œâ”€â”€ MainSidebar (ä¸»èœå•)
â”‚   â”œâ”€â”€ SubSidebar (å‰¯èœå•)
â”‚   â”œâ”€â”€ TabBar (æ ‡ç­¾æ )
â”‚   â””â”€â”€ ContentArea (å†…å®¹åŒº)
â”œâ”€â”€ DashboardView.vue (å·¥ä½œå°)
â”œâ”€â”€ UserListView.vue (ç”¨æˆ·ç®¡ç†)
â””â”€â”€ UserRolesView.vue (è§’è‰²ç®¡ç†)
```

### 2. çŠ¶æ€ç®¡ç†

#### æ ¸å¿ƒçŠ¶æ€
```javascript
// èœå•çŠ¶æ€
const sidebarCollapsed = ref(false)      // ä¸»èœå•æ”¶èµ·çŠ¶æ€
const activeMainMenu = ref('')           // å½“å‰æ¿€æ´»çš„ä¸»èœå•
const currentView = ref('dashboard')     // å½“å‰é¡µé¢è§†å›¾

// Tabç®¡ç†
const openTabs = ref([
  { id: 'dashboard', title: 'å·¥ä½œå°', closable: false }
])
```

#### çŠ¶æ€æµè½¬
```
ç”¨æˆ·ç‚¹å‡»ä¸»èœå• â†’ setActiveMainMenu() â†’ æ›´æ–°activeMainMenu â†’ æ˜¾ç¤ºå‰¯èœå•
ç”¨æˆ·ç‚¹å‡»å‰¯èœå• â†’ switchView() â†’ æ›´æ–°currentView â†’ æ·»åŠ Tab â†’ åˆ‡æ¢å†…å®¹
ç”¨æˆ·ç‚¹å‡»æ”¶èµ·æŒ‰é’® â†’ toggleSidebar() â†’ æ›´æ–°sidebarCollapsed â†’ è°ƒæ•´å¸ƒå±€
```

### 3. æ ·å¼æ¶æ„

#### æ–‡ä»¶ç»„ç»‡
```
src/styles/
â”œâ”€â”€ submenu.css (å‰¯èœå•ä¸“ç”¨æ ·å¼)
â”œâ”€â”€ responsive.css (å“åº”å¼æ ·å¼)
â””â”€â”€ animations.css (åŠ¨ç”»æ•ˆæœ)
```

#### CSSå˜é‡ç³»ç»Ÿ
```css
:root {
  --main-sidebar-width: clamp(200px, 15vw, 240px);
  --sub-sidebar-width: clamp(180px, 12vw, 220px);
  --sidebar-collapsed-width: 64px;
  --header-height: 60px;
  --tab-height: clamp(36px, 4vh, 48px);
}
```

## å¼€å‘æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šåŸºç¡€å¸ƒå±€ç»“æ„

#### 1.1 åˆ›å»ºä¸»å®¹å™¨
```vue
<template>
  <div id="app">
    <!-- ä¼ä¸šçº§ç®¡ç†ç³»ç»Ÿä¸»æ¡†æ¶ -->
    <div v-else class="admin-container">
      <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
      <header class="admin-header">
        <!-- å¯¼èˆªå†…å®¹ -->
      </header>

      <!-- ä¸»ä½“ -->
      <div class="admin-body">
        <!-- ä¸»èœå•æ  -->
        <aside class="admin-sidebar">
          <!-- ä¸»èœå•å†…å®¹ -->
        </aside>

        <!-- å‰¯èœå•æ  -->
        <aside class="admin-submenu">
          <!-- å‰¯èœå•å†…å®¹ -->
        </aside>

        <!-- ä¸»å†…å®¹åŒº -->
        <main class="admin-main">
          <!-- å†…å®¹åŒºåŸŸ -->
        </main>
      </div>
    </div>
  </div>
</template>
```

#### 1.2 åŸºç¡€æ ·å¼è®¾ç½®
```css
/* å…¨å±å®¹å™¨ */
.admin-container {
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* ä¸»ä½“å¸ƒå±€ */
.admin-body {
  flex: 1;
  display: flex;
  overflow: hidden;
}
```

### ç¬¬äºŒæ­¥ï¼šä¸»èœå•å®ç°

#### 2.1 ä¸»èœå•HTMLç»“æ„
```vue
<aside class="admin-sidebar" :class="{ collapsed: sidebarCollapsed }">
  <!-- æ”¶èµ·/å±•å¼€æŒ‰é’® -->
  <div class="sidebar-toggle">
    <button class="toggle-btn" @click="sidebarCollapsed = !sidebarCollapsed">
      <span v-if="sidebarCollapsed">â˜°</span>
      <span v-else>â—€</span>
    </button>
  </div>

  <nav class="sidebar-menu">
    <!-- å·¥ä½œå° -->
    <div class="menu-item-level1">
      <div
        class="menu-item-header"
        :class="{ active: currentView === 'dashboard' && !activeMainMenu }"
        @click="switchView('dashboard')"
      >
        <span class="menu-icon">ğŸ“Š</span>
        <span class="menu-text">å·¥ä½œå°</span>
      </div>
    </div>

    <!-- ç³»ç»Ÿç®¡ç† -->
    <div class="menu-item-level1">
      <div
        class="menu-item-header"
        :class="{ active: activeMainMenu === 'system' }"
        @click="setActiveMainMenu('system')"
      >
        <span class="menu-icon">âš™ï¸</span>
        <span class="menu-text">ç³»ç»Ÿç®¡ç†</span>
        <span class="menu-arrow">â–¶</span>
      </div>
    </div>
  </nav>
</aside>
```

#### 2.2 ä¸»èœå•æ ·å¼
```css
/* ä¸»èœå•æ  */
.admin-sidebar {
  width: clamp(200px, 15vw, 240px);
  background: #001529;
  overflow-y: auto;
  transition: width 0.3s ease;
  flex-shrink: 0;
}

.admin-sidebar.collapsed {
  width: 64px;
}

/* æ”¶èµ·æŒ‰é’® */
.sidebar-toggle {
  padding: 12px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.toggle-btn {
  width: 100%;
  padding: 8px;
  background: rgba(255, 255, 255, 0.1);
  border: none;
  border-radius: 4px;
  color: white;
  cursor: pointer;
  transition: all 0.3s ease;
}

/* èœå•é¡¹ */
.menu-item-header {
  display: flex;
  align-items: center;
  padding: 12px 20px;
  color: rgba(255, 255, 255, 0.65);
  cursor: pointer;
  transition: all 0.3s;
}

.menu-item-header:hover {
  color: white;
  background: #002140;
}

.menu-item-header.active {
  color: white;
  background: #1e3a5f;
}
```

### ç¬¬ä¸‰æ­¥ï¼šå‰¯èœå•å®ç°

#### 3.1 å‰¯èœå•HTMLç»“æ„
```vue
<aside v-if="activeMainMenu && !sidebarCollapsed" class="admin-submenu">
  <div class="submenu-header">
    <h3>{{ getMainMenuTitle(activeMainMenu) }}</h3>
  </div>
  
  <nav class="submenu-nav">
    <!-- ç³»ç»Ÿç®¡ç†å‰¯èœå• -->
    <template v-if="activeMainMenu === 'system'">
      <a
        class="submenu-item"
        :class="{ active: currentView === 'users' }"
        @click="switchView('users')"
      >
        <span class="submenu-icon">ğŸ‘¤</span>
        <span>ç”¨æˆ·ç®¡ç†</span>
      </a>
      <a
        class="submenu-item"
        :class="{ active: currentView === 'roles' }"
        @click="switchView('roles')"
      >
        <span class="submenu-icon">ğŸ”</span>
        <span>è§’è‰²ç®¡ç†</span>
      </a>
    </template>
  </nav>
</aside>
```

#### 3.2 å‰¯èœå•æ ·å¼
```css
/* å‰¯èœå•æ  */
.admin-submenu {
  width: clamp(180px, 12vw, 220px);
  background: #f7f8fa;
  border-right: 1px solid #e5e6eb;
  overflow-y: auto;
  transition: all 0.3s ease;
  flex-shrink: 0;
}

/* å‰¯èœå•å¤´éƒ¨ */
.submenu-header {
  padding: clamp(12px, 3vh, 20px) clamp(16px, 4vw, 24px);
  background: white;
  border-bottom: 1px solid #e5e6eb;
}

/* å‰¯èœå•é¡¹ */
.submenu-item {
  display: flex;
  align-items: center;
  padding: clamp(8px, 2vh, 12px) clamp(16px, 4vw, 24px);
  color: #4e5969;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.3s ease;
  border-left: 3px solid transparent;
}

.submenu-item:hover {
  background: white;
  color: #1e3a5f;
  border-left-color: #1e3a5f;
  transform: translateX(2px);
}

.submenu-item.active {
  background: #e6f7ff;
  color: #1e3a5f;
  border-left-color: #1890ff;
  font-weight: 500;
}
```

### ç¬¬å››æ­¥ï¼šTabæ å®ç°

#### 4.1 Tabæ HTMLç»“æ„
```vue
<div class="admin-tabs">
  <!-- æ”¶èµ·æŒ‰é’®ç§»åˆ°Tabæ æœ€å·¦ä¾§ -->
  <div class="tabs-actions-left">
    <button class="tab-action-btn" @click="sidebarCollapsed = !sidebarCollapsed">
      <span v-if="sidebarCollapsed">â˜°</span>
      <span v-else>â—€</span>
    </button>
  </div>
  
  <div class="tabs-container">
    <div
      v-for="tab in openTabs"
      :key="tab.id"
      class="tab-item"
      :class="{ active: tab.id === currentView }"
      @click="switchView(tab.id)"
    >
      <span>{{ tab.title }}</span>
      <span v-if="tab.closable" class="tab-close" @click.stop="closeTab(tab.id)">Ã—</span>
    </div>
  </div>
</div>
```

#### 4.2 Tabæ æ ·å¼
```css
/* Tabæ  */
.admin-tabs {
  height: clamp(36px, 4vh, 48px);
  background: white;
  border-bottom: 1px solid #e5e6eb;
  display: flex;
  align-items: center;
  padding: 0 clamp(8px, 2vw, 20px);
  flex-shrink: 0;
}

/* Tabæ å·¦ä¾§æŒ‰é’® */
.tabs-actions-left {
  display: flex;
  align-items: center;
  margin-right: clamp(8px, 2vw, 16px);
  flex-shrink: 0;
}

.tab-action-btn {
  padding: clamp(4px, 1vh, 8px) clamp(8px, 2vw, 12px);
  background: #f7f8fa;
  border: 1px solid #e5e6eb;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.3s ease;
}

/* Tabé¡¹ */
.tab-item {
  display: flex;
  align-items: center;
  padding: clamp(4px, 1vh, 8px) clamp(8px, 2vw, 16px);
  background: #f7f8fa;
  border: 1px solid #e5e6eb;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.tab-item.active {
  background: #1e3a5f;
  color: white;
  border-color: #1e3a5f;
}
```

### ç¬¬äº”æ­¥ï¼šJavaScripté€»è¾‘å®ç°

#### 5.1 çŠ¶æ€ç®¡ç†
```javascript
// å“åº”å¼æ•°æ®
const sidebarCollapsed = ref(false)
const currentView = ref('dashboard')
const activeMainMenu = ref('')

// Tabç®¡ç†
const openTabs = ref([
  { id: 'dashboard', title: 'å·¥ä½œå°', closable: false }
])
```

#### 5.2 æ ¸å¿ƒæ–¹æ³•å®ç°
```javascript
// è®¾ç½®æ¿€æ´»çš„ä¸»èœå•
const setActiveMainMenu = (menuKey) => {
  if (activeMainMenu.value === menuKey) {
    activeMainMenu.value = ''
  } else {
    activeMainMenu.value = menuKey
  }
}

// è·å–ä¸»èœå•æ ‡é¢˜
const getMainMenuTitle = (menuKey) => {
  const titles = {
    'system': 'ç³»ç»Ÿç®¡ç†',
    'project': 'é¡¹ç›®ç®¡ç†',
    'attendance': 'è€ƒå‹¤ç®¡ç†',
    'equipment': 'è®¾å¤‡ç®¡ç†'
  }
  return titles[menuKey] || 'èœå•'
}

// åˆ‡æ¢è§†å›¾
const switchView = (viewId) => {
  currentView.value = viewId
  showUserMenu.value = false

  // å¦‚æœåˆ‡æ¢åˆ°å·¥ä½œå°ï¼Œæ¸…é™¤ä¸»èœå•é€‰æ‹©
  if (viewId === 'dashboard') {
    activeMainMenu.value = ''
  }

  // æ·»åŠ åˆ°Tabæ 
  const tabExists = openTabs.value.find(tab => tab.id === viewId)
  if (!tabExists) {
    const tabTitles = {
      'dashboard': 'å·¥ä½œå°',
      'users': 'ç”¨æˆ·ç®¡ç†',
      'roles': 'è§’è‰²ç®¡ç†',
      // ... æ›´å¤šæ ‡é¢˜æ˜ å°„
    }

    openTabs.value.push({
      id: viewId,
      title: tabTitles[viewId] || 'æœªçŸ¥é¡µé¢',
      closable: viewId !== 'dashboard'
    })
  }
}

// å…³é—­Tab
const closeTab = (tabId) => {
  const index = openTabs.value.findIndex(tab => tab.id === tabId)
  if (index > -1) {
    openTabs.value.splice(index, 1)

    // å¦‚æœå…³é—­çš„æ˜¯å½“å‰Tabï¼Œåˆ‡æ¢åˆ°å·¥ä½œå°
    if (currentView.value === tabId) {
      currentView.value = 'dashboard'
      activeMainMenu.value = ''
    }
  }
}
```

## æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. åŠ¨æ€å‰¯èœå•æ˜¾ç¤º

#### æ¡ä»¶æ¸²æŸ“é€»è¾‘
```vue
<aside v-if="activeMainMenu && !sidebarCollapsed" class="admin-submenu">
```

**å…³é”®ç‚¹:**
- `activeMainMenu`: æœ‰é€‰ä¸­çš„ä¸»èœå•æ—¶æ‰æ˜¾ç¤º
- `!sidebarCollapsed`: ä¸»èœå•æœªæ”¶èµ·æ—¶æ‰æ˜¾ç¤º
- åŒé‡æ¡ä»¶ç¡®ä¿å‰¯èœå•æ˜¾ç¤ºçš„åˆç†æ€§

#### å†…å®¹åŠ¨æ€åˆ‡æ¢
```vue
<template v-if="activeMainMenu === 'system'">
  <!-- ç³»ç»Ÿç®¡ç†å‰¯èœå• -->
</template>

<template v-if="activeMainMenu === 'project'">
  <!-- é¡¹ç›®ç®¡ç†å‰¯èœå• -->
</template>
```

### 2. å“åº”å¼å®½åº¦è®¡ç®—

#### ä¸»å†…å®¹åŒºå®½åº¦
```css
/* æ­£å¸¸çŠ¶æ€ï¼šæ€»å®½åº¦ - ä¸»èœå• - å‰¯èœå• */
.admin-main {
  width: calc(100vw - clamp(200px, 15vw, 240px) - clamp(180px, 12vw, 220px));
}

/* ä¸»èœå•æ”¶èµ·ï¼šæ€»å®½åº¦ - æ”¶èµ·å®½åº¦ - å‰¯èœå• */
.admin-sidebar.collapsed + .admin-submenu + .admin-main {
  width: calc(100vw - 64px - clamp(180px, 12vw, 220px));
}

/* æ— å‰¯èœå•ï¼šæ€»å®½åº¦ - ä¸»èœå• */
.admin-main:not(.has-submenu) {
  width: calc(100vw - clamp(200px, 15vw, 240px));
}
```

### 3. Tabç®¡ç†ç³»ç»Ÿ

#### è‡ªåŠ¨æ·»åŠ Tab
```javascript
const switchView = (viewId) => {
  // æ£€æŸ¥Tabæ˜¯å¦å·²å­˜åœ¨
  const tabExists = openTabs.value.find(tab => tab.id === viewId)
  if (!tabExists) {
    // æ·»åŠ æ–°Tab
    openTabs.value.push({
      id: viewId,
      title: tabTitles[viewId] || 'æœªçŸ¥é¡µé¢',
      closable: viewId !== 'dashboard'
    })
  }
}
```

#### æ™ºèƒ½Tabå…³é—­
```javascript
const closeTab = (tabId) => {
  const index = openTabs.value.findIndex(tab => tab.id === tabId)
  if (index > -1) {
    openTabs.value.splice(index, 1)

    // å¦‚æœå…³é—­çš„æ˜¯å½“å‰Tabï¼Œåˆ‡æ¢åˆ°å·¥ä½œå°
    if (currentView.value === tabId) {
      currentView.value = 'dashboard'
      activeMainMenu.value = ''
    }
  }
}
```

## æ ·å¼ç³»ç»Ÿ

### 1. å“åº”å¼æ–­ç‚¹è®¾è®¡

#### æ–­ç‚¹ç­–ç•¥
```css
/* å¤§å±å¹• - å®Œæ•´å¸ƒå±€ */
@media (min-width: 1200px) {
  .admin-submenu {
    position: static;
    width: clamp(180px, 12vw, 220px);
  }
}

/* ä¸­ç­‰å±å¹• - å‰¯èœå•æµ®å±‚ */
@media (max-width: 1200px) {
  .admin-submenu {
    position: absolute;
    left: clamp(200px, 15vw, 240px);
    top: 0;
    bottom: 0;
    z-index: 998;
    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.15);
  }
}

/* å°å±å¹• - ä¸»èœå•æµ®å±‚ */
@media (max-width: 768px) {
  .admin-sidebar {
    position: fixed;
    left: -240px;
    top: 60px;
    bottom: 0;
    z-index: 999;
    transition: left 0.3s;
  }
  
  .admin-sidebar.show {
    left: 0;
  }
}
```

### 2. åŠ¨ç”»æ•ˆæœç³»ç»Ÿ

#### èœå•å±•å¼€åŠ¨ç”»
```css
.admin-submenu {
  transform: translateX(-100%);
  transition: transform 0.3s ease;
}

.admin-submenu.show {
  transform: translateX(0);
}
```

#### æ‚¬åœæ•ˆæœ
```css
.submenu-item {
  transition: all 0.3s ease;
}

.submenu-item:hover {
  transform: translateX(2px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}
```

### 3. ä¸»é¢˜è‰²å½©ç³»ç»Ÿ

#### è‰²å½©å˜é‡
```css
:root {
  --primary-color: #1e3a5f;
  --primary-light: #2a4d7a;
  --secondary-color: #f7f8fa;
  --accent-color: #1890ff;
  --text-primary: #1f2329;
  --text-secondary: #4e5969;
  --border-color: #e5e6eb;
}
```

#### åº”ç”¨ç¤ºä¾‹
```css
.menu-item-header.active {
  background: var(--primary-color);
  color: white;
}

.submenu-item.active {
  color: var(--primary-color);
  border-left-color: var(--accent-color);
}
```

## äº¤äº’é€»è¾‘

### 1. èœå•çŠ¶æ€ç®¡ç†

#### çŠ¶æ€è½¬æ¢å›¾
```
åˆå§‹çŠ¶æ€: å·¥ä½œå°é¡µé¢ï¼Œæ— å‰¯èœå•
    â†“ ç‚¹å‡»ç³»ç»Ÿç®¡ç†
ç³»ç»Ÿç®¡ç†æ¿€æ´»ï¼Œæ˜¾ç¤ºç³»ç»Ÿç®¡ç†å‰¯èœå•
    â†“ ç‚¹å‡»ç”¨æˆ·ç®¡ç†
ç”¨æˆ·ç®¡ç†é¡µé¢ï¼Œç³»ç»Ÿç®¡ç†å‰¯èœå•ä¿æŒæ˜¾ç¤º
    â†“ ç‚¹å‡»é¡¹ç›®ç®¡ç†
é¡¹ç›®ç®¡ç†æ¿€æ´»ï¼Œåˆ‡æ¢åˆ°é¡¹ç›®ç®¡ç†å‰¯èœå•
    â†“ ç‚¹å‡»å·¥ä½œå°
å·¥ä½œå°é¡µé¢ï¼Œéšè—æ‰€æœ‰å‰¯èœå•
```

#### å®ç°ä»£ç 
```javascript
const setActiveMainMenu = (menuKey) => {
  // å¦‚æœç‚¹å‡»çš„æ˜¯å½“å‰æ¿€æ´»èœå•ï¼Œåˆ™å…³é—­å‰¯èœå•
  if (activeMainMenu.value === menuKey) {
    activeMainMenu.value = ''
  } else {
    // å¦åˆ™åˆ‡æ¢åˆ°æ–°çš„ä¸»èœå•
    activeMainMenu.value = menuKey
  }
}

const switchView = (viewId) => {
  currentView.value = viewId
  
  // å·¥ä½œå°ç‰¹æ®Šå¤„ç†ï¼šæ¸…é™¤ä¸»èœå•é€‰æ‹©
  if (viewId === 'dashboard') {
    activeMainMenu.value = ''
  }
  
  // æ·»åŠ Tabé€»è¾‘...
}
```

### 2. æ”¶èµ·æŒ‰é’®é€»è¾‘

#### åŒé‡æ§åˆ¶
```vue
<!-- ä¸»èœå•é¡¶éƒ¨æŒ‰é’® -->
<div class="sidebar-toggle">
  <button class="toggle-btn" @click="sidebarCollapsed = !sidebarCollapsed">
    <span v-if="sidebarCollapsed">â˜°</span>
    <span v-else>â—€</span>
  </button>
</div>

<!-- Tabæ å·¦ä¾§æŒ‰é’® -->
<div class="tabs-actions-left">
  <button class="tab-action-btn" @click="sidebarCollapsed = !sidebarCollapsed">
    <span v-if="sidebarCollapsed">â˜°</span>
    <span v-else>â—€</span>
  </button>
</div>
```

#### æ”¶èµ·çŠ¶æ€å¤„ç†
```javascript
// ç›‘å¬æ”¶èµ·çŠ¶æ€å˜åŒ–
watch(sidebarCollapsed, (newValue) => {
  if (newValue) {
    // æ”¶èµ·æ—¶éšè—å‰¯èœå•
    activeMainMenu.value = ''
  }
})
```

### 3. Tabç®¡ç†é€»è¾‘

#### æ™ºèƒ½Tabæ ‡é¢˜
```javascript
const tabTitles = {
  'dashboard': 'å·¥ä½œå°',
  'users': 'ç”¨æˆ·ç®¡ç†',
  'roles': 'è§’è‰²ç®¡ç†',
  'project-list': 'é¡¹ç›®åˆ—è¡¨',
  'project-progress': 'é¡¹ç›®è¿›åº¦',
  'project-team': 'é¡¹ç›®å›¢é˜Ÿ',
  'attendance-realtime': 'å®æ—¶è€ƒå‹¤',
  'attendance-records': 'è€ƒå‹¤è®°å½•',
  'attendance-stats': 'è€ƒå‹¤ç»Ÿè®¡',
  'equipment-tower': 'å¡”åŠç›‘æ§',
  'equipment-elevator': 'å‡é™æœºç›‘æ§',
  'equipment-maintenance': 'è®¾å¤‡ç»´æŠ¤',
  'equipment-alerts': 'æŠ¥è­¦è®°å½•'
}
```

#### Tabå…³é—­é€»è¾‘
```javascript
const closeTab = (tabId) => {
  // ä¸å…è®¸å…³é—­å·¥ä½œå°Tab
  if (tabId === 'dashboard') return
  
  const index = openTabs.value.findIndex(tab => tab.id === tabId)
  if (index > -1) {
    openTabs.value.splice(index, 1)
    
    // å¦‚æœå…³é—­çš„æ˜¯å½“å‰Tab
    if (currentView.value === tabId) {
      // åˆ‡æ¢åˆ°å·¥ä½œå°
      currentView.value = 'dashboard'
      activeMainMenu.value = ''
    }
  }
}
```

## æµ‹è¯•éªŒè¯

### 1. åŠŸèƒ½æµ‹è¯•æ¸…å•

#### åŸºç¡€åŠŸèƒ½
- [ ] ä¸»èœå•ç‚¹å‡»åˆ‡æ¢å‰¯èœå•
- [ ] å‰¯èœå•ç‚¹å‡»åˆ‡æ¢é¡µé¢å†…å®¹
- [ ] å·¥ä½œå°ç‚¹å‡»éšè—å‰¯èœå•
- [ ] æ”¶èµ·æŒ‰é’®æ­£å¸¸å·¥ä½œ
- [ ] Tabæ·»åŠ å’Œå…³é—­åŠŸèƒ½

#### äº¤äº’æµ‹è¯•
- [ ] ä¸»èœå•æ‚¬åœæ•ˆæœ
- [ ] å‰¯èœå•æ‚¬åœæ•ˆæœ
- [ ] Tabæ‚¬åœæ•ˆæœ
- [ ] æŒ‰é’®ç‚¹å‡»åé¦ˆ
- [ ] åŠ¨ç”»è¿‡æ¸¡æµç•…

#### å“åº”å¼æµ‹è¯•
- [ ] 1920pxä»¥ä¸Šå¤§å±å¹•
- [ ] 1200px-1920pxä¸­ç­‰å±å¹•
- [ ] 768px-1200pxå¹³æ¿å±å¹•
- [ ] 480px-768pxæ‰‹æœºå±å¹•
- [ ] 480pxä»¥ä¸‹å°å±å¹•

### 2. æµè§ˆå™¨å…¼å®¹æ€§

#### æ”¯æŒçš„æµè§ˆå™¨
- Chrome 88+
- Firefox 85+
- Safari 14+
- Edge 88+

#### å…³é”®ç‰¹æ€§æ£€æµ‹
```css
/* æ£€æµ‹clampæ”¯æŒ */
@supports (width: clamp(200px, 15vw, 280px)) {
  .admin-sidebar {
    width: clamp(200px, 15vw, 280px);
  }
}

/* é™çº§æ–¹æ¡ˆ */
@supports not (width: clamp(200px, 15vw, 280px)) {
  .admin-sidebar {
    width: 240px;
  }
}
```

### 3. æ€§èƒ½æµ‹è¯•

#### å…³é”®æŒ‡æ ‡
- é¦–æ¬¡æ¸²æŸ“æ—¶é—´ < 100ms
- èœå•åˆ‡æ¢å“åº”æ—¶é—´ < 50ms
- åŠ¨ç”»å¸§ç‡ > 60fps
- å†…å­˜å ç”¨ç¨³å®š

#### ä¼˜åŒ–æªæ–½
```css
/* ä½¿ç”¨transformä»£æ›¿widthå˜åŒ– */
.admin-submenu {
  transform: translateX(-100%);
  transition: transform 0.3s ease;
}

/* å¼€å¯ç¡¬ä»¶åŠ é€Ÿ */
.menu-item-header {
  will-change: transform;
}
```

## æ‰©å±•æŒ‡å—

### 1. æ·»åŠ æ–°çš„ä¸»èœå•

#### æ­¥éª¤1ï¼šæ›´æ–°HTMLç»“æ„
```vue
<!-- æ–°å¢è´¢åŠ¡ç®¡ç†èœå• -->
<div class="menu-item-level1">
  <div
    class="menu-item-header"
    :class="{ active: activeMainMenu === 'finance' }"
    @click="setActiveMainMenu('finance')"
  >
    <span class="menu-icon">ğŸ’°</span>
    <span class="menu-text">è´¢åŠ¡ç®¡ç†</span>
    <span class="menu-arrow">â–¶</span>
  </div>
</div>
```

#### æ­¥éª¤2ï¼šæ·»åŠ å‰¯èœå•å†…å®¹
```vue
<!-- è´¢åŠ¡ç®¡ç†å‰¯èœå• -->
<template v-if="activeMainMenu === 'finance'">
  <a class="submenu-item" @click="switchView('finance-income')">
    <span class="submenu-icon">ğŸ’µ</span>
    <span>æ”¶å…¥ç®¡ç†</span>
  </a>
  <a class="submenu-item" @click="switchView('finance-expense')">
    <span class="submenu-icon">ğŸ’¸</span>
    <span>æ”¯å‡ºç®¡ç†</span>
  </a>
  <a class="submenu-item" @click="switchView('finance-report')">
    <span class="submenu-icon">ğŸ“Š</span>
    <span>è´¢åŠ¡æŠ¥è¡¨</span>
  </a>
</template>
```

#### æ­¥éª¤3ï¼šæ›´æ–°æ ‡é¢˜æ˜ å°„
```javascript
const getMainMenuTitle = (menuKey) => {
  const titles = {
    'system': 'ç³»ç»Ÿç®¡ç†',
    'project': 'é¡¹ç›®ç®¡ç†',
    'attendance': 'è€ƒå‹¤ç®¡ç†',
    'equipment': 'è®¾å¤‡ç®¡ç†',
    'finance': 'è´¢åŠ¡ç®¡ç†' // æ–°å¢
  }
  return titles[menuKey] || 'èœå•'
}

// æ›´æ–°Tabæ ‡é¢˜
const tabTitles = {
  // ... ç°æœ‰æ ‡é¢˜
  'finance-income': 'æ”¶å…¥ç®¡ç†',
  'finance-expense': 'æ”¯å‡ºç®¡ç†',
  'finance-report': 'è´¢åŠ¡æŠ¥è¡¨'
}
```

### 2. è‡ªå®šä¹‰èœå•å›¾æ ‡

#### ä½¿ç”¨å›¾æ ‡å­—ä½“
```vue
<span class="menu-icon">
  <i class="fas fa-chart-bar"></i>
</span>
```

#### ä½¿ç”¨SVGå›¾æ ‡
```vue
<span class="menu-icon">
  <svg width="16" height="16" viewBox="0 0 16 16">
    <path d="M8 0L16 8L8 16L0 8Z" fill="currentColor"/>
  </svg>
</span>
```

### 3. æ·»åŠ èœå•æƒé™æ§åˆ¶

#### æƒé™æ£€æŸ¥å‡½æ•°
```javascript
const hasPermission = (permission) => {
  return currentUser.value?.permissions?.includes(permission)
}
```

#### æ¡ä»¶æ¸²æŸ“èœå•
```vue
<div v-if="hasPermission('system.manage')" class="menu-item-level1">
  <div class="menu-item-header" @click="setActiveMainMenu('system')">
    <span class="menu-icon">âš™ï¸</span>
    <span class="menu-text">ç³»ç»Ÿç®¡ç†</span>
    <span class="menu-arrow">â–¶</span>
  </div>
</div>
```

### 4. èœå•å›½é™…åŒ–æ”¯æŒ

#### å¤šè¯­è¨€é…ç½®
```javascript
const menuTitles = {
  'zh-CN': {
    'system': 'ç³»ç»Ÿç®¡ç†',
    'project': 'é¡¹ç›®ç®¡ç†',
    'users': 'ç”¨æˆ·ç®¡ç†'
  },
  'en-US': {
    'system': 'System Management',
    'project': 'Project Management', 
    'users': 'User Management'
  }
}

const getMenuTitle = (key) => {
  const locale = getCurrentLocale()
  return menuTitles[locale]?.[key] || key
}
```

### 5. èœå•é…ç½®åŒ–

#### é…ç½®æ–‡ä»¶ç»“æ„
```javascript
const menuConfig = [
  {
    id: 'dashboard',
    title: 'å·¥ä½œå°',
    icon: 'ğŸ“Š',
    type: 'direct',
    component: 'DashboardView'
  },
  {
    id: 'system',
    title: 'ç³»ç»Ÿç®¡ç†',
    icon: 'âš™ï¸',
    type: 'submenu',
    children: [
      {
        id: 'users',
        title: 'ç”¨æˆ·ç®¡ç†',
        icon: 'ğŸ‘¤',
        component: 'UserListView',
        permission: 'system.user.view'
      },
      {
        id: 'roles',
        title: 'è§’è‰²ç®¡ç†',
        icon: 'ğŸ”',
        component: 'UserRolesView',
        permission: 'system.role.view'
      }
    ]
  }
]
```

#### åŠ¨æ€æ¸²æŸ“èœå•
```vue
<template v-for="menu in menuConfig" :key="menu.id">
  <div v-if="menu.type === 'direct'" class="menu-item-level1">
    <div class="menu-item-header" @click="switchView(menu.id)">
      <span class="menu-icon">{{ menu.icon }}</span>
      <span class="menu-text">{{ menu.title }}</span>
    </div>
  </div>
  
  <div v-else-if="menu.type === 'submenu'" class="menu-item-level1">
    <div class="menu-item-header" @click="setActiveMainMenu(menu.id)">
      <span class="menu-icon">{{ menu.icon }}</span>
      <span class="menu-text">{{ menu.title }}</span>
      <span class="menu-arrow">â–¶</span>
    </div>
  </div>
</template>
```

## æ€»ç»“

é€šè¿‡æœ¬æ‰‹å†Œçš„è¯¦ç»†æŒ‡å¯¼ï¼Œæˆ‘ä»¬æˆåŠŸå®ç°äº†ä¸€ä¸ªä¸“ä¸šçš„ä¼ä¸šçº§ä¸»å‰¯èœå•ç³»ç»Ÿï¼Œå…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š

### æ ¸å¿ƒä¼˜åŠ¿
1. **ä¸“ä¸šçš„äº¤äº’è®¾è®¡**: ä¸»èœå• + å‰¯èœå•çš„åˆ†å±‚ç»“æ„
2. **å®Œå…¨å“åº”å¼**: é€‚é…æ‰€æœ‰è®¾å¤‡å°ºå¯¸
3. **æµç•…çš„åŠ¨ç”»æ•ˆæœ**: ç°ä»£åŒ–çš„ç”¨æˆ·ä½“éªŒ
4. **é«˜åº¦å¯æ‰©å±•**: ä¾¿äºæ·»åŠ æ–°åŠŸèƒ½æ¨¡å—
5. **æ€§èƒ½ä¼˜åŒ–**: æµç•…çš„äº¤äº’å“åº”

### æŠ€æœ¯äº®ç‚¹
1. **Vue3 Composition API**: ç°ä»£åŒ–çš„çŠ¶æ€ç®¡ç†
2. **CSSç°ä»£ç‰¹æ€§**: clamp()ã€Gridã€Flexbox
3. **å“åº”å¼è®¾è®¡**: ç§»åŠ¨ä¼˜å…ˆçš„è®¾è®¡ç­–ç•¥
4. **æ¨¡å—åŒ–æ¶æ„**: ä¾¿äºç»´æŠ¤å’Œæ‰©å±•

### åº”ç”¨ä»·å€¼
è¿™å¥—èœå•ç³»ç»Ÿä¸ºSmartAbpä¼ä¸šç®¡ç†ç³»ç»Ÿæä¾›äº†åšå®çš„å¯¼èˆªåŸºç¡€ï¼Œä¸ä»…æ»¡è¶³äº†å½“å‰çš„åŠŸèƒ½éœ€æ±‚ï¼Œè¿˜ä¸ºæœªæ¥çš„åŠŸèƒ½æ‰©å±•é¢„ç•™äº†å……è¶³çš„ç©ºé—´ã€‚é€šè¿‡åˆç†çš„æ¶æ„è®¾è®¡å’Œä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒï¼Œä¸ºä¼ä¸šç”¨æˆ·æä¾›äº†ä¸“ä¸šã€é«˜æ•ˆçš„æ“ä½œç•Œé¢ã€‚